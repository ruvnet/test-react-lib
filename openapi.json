{"openapi":"3.1.0","x-id":["gofapi.handler/api"],"info":{"title":"Capitol clj services (Gofapi).","summary":" Middleware API for Capitol AI Services","contact":{"name":"Capitol support.","email":"rafael@capitol.ai"},"description":"The Capitol AI Services API acts as the middleware between users and Capitol's AI-powered services, such as story generation.\n                          \n                          **Features:**\n                          - **User Management:** Create, update, and manage user accounts.\n                          - **Session Handling:** Secure authentication and session management.\n                          - **AI Content Generation:** Generate dynamic content like stories using AI.","version":"1.0.0"},"paths":{"/api/{api-version-string}/api-version":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"api-version":{"type":"string"}},"required":["api-version"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"api-version":{"type":"string"}},"required":["api-version"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"api-version":{"type":"string"}},"required":["api-version"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"api-version":{"type":"string"}},"required":["api-version"],"additionalProperties":false}}}}},"tags":["Utility"],"summary":"Report the latest API version.","description":"Returns the current API version."}},"/api/{api-version-string}/user":{"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id"],"additionalProperties":false}}}},"tags":["user"],"summary":"Update user data in the database.","description":"Updates the authenticated user's data in the database."}},"/api/{api-version-string}/user/users":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}},"application/transit+msgpack":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}},"application/transit+json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}},"application/edn":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}}}}},"tags":["user"],"summary":"Search users","description":"Searches for users based on a query string."}},"/api/{api-version-string}/user/users/{id}":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}}}},"tags":["user"],"summary":"Get user by ID","description":"Retrieves a user's information by their unique ID."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}},"tags":["user"],"summary":"Delete user by ID","description":"Deletes a user's profile by their unique ID."}},"/api/{api-version-string}/user/username":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"username","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"available":{"type":"boolean"}},"required":["available"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"available":{"type":"boolean"}},"required":["available"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"available":{"type":"boolean"}},"required":["available"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"available":{"type":"boolean"}},"required":["available"],"additionalProperties":false}}}}},"tags":["user"],"summary":"Check username availability","description":"Checks if a username can be saved in the database."}},"/api/{api-version-string}/user/avatar":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}},"tags":["user"],"summary":"Upload a profile photo","description":"Allows the user to upload a profile photo."}},"/api/{api-version-string}/user/settings":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"default-publicity":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-home-page-onboarding":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-photomaker-modal":{"type":"boolean"},"onboarding-flow-completed":{"type":"boolean"},"hide-story-page-onboarding":{"type":"boolean"},"has-selected-membership":{"type":"boolean"},"mailing-list":{"type":"boolean"}},"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"default-publicity":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-home-page-onboarding":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-photomaker-modal":{"type":"boolean"},"onboarding-flow-completed":{"type":"boolean"},"hide-story-page-onboarding":{"type":"boolean"},"has-selected-membership":{"type":"boolean"},"mailing-list":{"type":"boolean"}},"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"default-publicity":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-home-page-onboarding":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-photomaker-modal":{"type":"boolean"},"onboarding-flow-completed":{"type":"boolean"},"hide-story-page-onboarding":{"type":"boolean"},"has-selected-membership":{"type":"boolean"},"mailing-list":{"type":"boolean"}},"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"default-publicity":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-home-page-onboarding":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-photomaker-modal":{"type":"boolean"},"onboarding-flow-completed":{"type":"boolean"},"hide-story-page-onboarding":{"type":"boolean"},"has-selected-membership":{"type":"boolean"},"mailing-list":{"type":"boolean"}},"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"],"additionalProperties":false}}}}},"tags":["user"],"summary":"Save user settings","description":"Saves the user's settings."}},"/api/{api-version-string}/user/sign-out":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["auth"],"summary":"Sign out","description":"Signs out the current user."}},"/api/{api-version-string}/user/qr-code":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["auth"],"summary":"Retrieve current user's QR code","description":"Fetches the QR code for the authenticated user."}},"/api/{api-version-string}/user/current-user":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["current-user"],"summary":"Retrieve current user","description":"Retrieves the details of the currently authenticated user."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"referred-by":{"type":"string"},"code":{"type":"string"}},"required":["code"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"referred-by":{"type":"string"},"code":{"type":"string"}},"required":["code"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"referred-by":{"type":"string"},"code":{"type":"string"}},"required":["code"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"referred-by":{"type":"string"},"code":{"type":"string"}},"required":["code"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"username":{"anyOf":[{"type":"string"},{"type":"null"}]},"first-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"last-name":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"type":"string","minLength":4},"type":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"is-active":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"image":{"type":"string","minLength":4},"email-verified":{"type":"boolean"},"hide-first-time-signin-modal":{"type":"boolean"},"hide-disclaimer-banner":{"type":"boolean"},"hide-home-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-story-page-onboarding":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"hide-photomaker-modal":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"last-feedback-timestamp":{"anyOf":[{"type":"null"},{"type":"string","format":"date-time"}]},"use-case":{"anyOf":[{"type":"string"},{"type":"null"}]},"use-case-details":{"anyOf":[{"type":"object"},{"type":"null"}]},"topics-of-interest":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"null"}]}},"onboarding-flow-completed":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"has-selected-membership":{"anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["id","username","first-name","last-name","email","type","image","email-verified"],"additionalProperties":false}}}}},"tags":["current-user"],"summary":"Authenticate current user with auth code","description":"Authenticates the current user using an authorization code."}},"/api/{api-version-string}/user/membership/stripe-webhook":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Stripe Webhook for Membership Updates","description":"Handles webhook notifications from Stripe, triggered when a user completes a plan purchase or an event occurs within Stripe. Processes updates to user memberships accordingly."}},"/api/{api-version-string}/user/membership/current-membership":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Retrieve Current User Membership","description":"Fetches the user's current membership details, including whether they have a free plan or a paid pro plan."}},"/api/{api-version-string}/user/membership/all":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Retrieve All User Memberships","description":"Provides a list of all memberships associated with the user, including current and any historical memberships."}},"/api/{api-version-string}/user/membership/products":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Get Available Membership Plans","description":"Returns the list of membership plans currently available for purchase, as configured within Stripe."}},"/api/{api-version-string}/user/membership/success":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Handle Successful Plan Purchase","description":"Called by Stripe upon successful plan purchase, finalizing the membership update for the user in the system."}},"/api/{api-version-string}/user/membership/session":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["memberships"],"summary":"Create a New Stripe Session","description":"Generates a new session to initiate the plan purchase process via Stripe."}},"/api/{api-version-string}/user/boost":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"promo-code":{"type":"string"}},"required":["promo-code"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"promo-code":{"type":"string"}},"required":["promo-code"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"promo-code":{"type":"string"}},"required":["promo-code"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"promo-code":{"type":"string"}},"required":["promo-code"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"summary":"Apply credits to a user's account with a promo code","description":"Adds credits to the specified user account by validating and applying a promo code."}},"/api/{api-version-string}/user/credits":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"credits":{"type":"integer"},"notes":{"type":"string"}},"required":["user-id","credits","notes"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"credits":{"type":"integer"},"notes":{"type":"string"}},"required":["user-id","credits","notes"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"credits":{"type":"integer"},"notes":{"type":"string"}},"required":["user-id","credits","notes"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"credits":{"type":"integer"},"notes":{"type":"string"}},"required":["user-id","credits","notes"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"summary":"Directly add credits to a user's account","description":"Manually credits the user's account based on provided user ID and credit amount. Additional notes can be included for record-keeping."}},"/api/{api-version-string}/user/feedback":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"feedback":{"type":"object"}},"required":["user-id","feedback"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"feedback":{"type":"object"}},"required":["user-id","feedback"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"feedback":{"type":"object"}},"required":["user-id","feedback"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"feedback":{"type":"object"}},"required":["user-id","feedback"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["feedback"],"summary":"Submit user feedback and receive credits","description":"Saves user feedback and grants credits to the user's account in exchange. This feedback can help improve the story or system performance."}},"/api/{api-version-string}/user/feedback/thumbs":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["feedback"],"summary":"Verify if the story has been rated by its author","description":"Checks whether the author has already rated their story with a thumbs up or thumbs down."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"liked":{"type":"boolean"}},"required":["story-id","liked"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"liked":{"type":"boolean"}},"required":["story-id","liked"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"liked":{"type":"boolean"}},"required":["story-id","liked"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"liked":{"type":"boolean"}},"required":["story-id","liked"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["feedback"],"summary":"Record thumbs up/down feedback for a story","description":"Saves a thumbs up or down rating for a story, indicating whether the author liked or disliked it."}},"/api/{api-version-string}/user/sources/ws":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"ws-uuid":{"type":"string","format":"uuid"}},"required":["ws-uuid"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"ws-uuid":{"type":"string","format":"uuid"}},"required":["ws-uuid"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"ws-uuid":{"type":"string","format":"uuid"}},"required":["ws-uuid"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"ws-uuid":{"type":"string","format":"uuid"}},"required":["ws-uuid"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["sources"],"summary":"Create a WebSocket address for PDF and URL processing","description":"Generates a WebSocket (WS) address for processing user-uploaded PDFs and URLs, enabling real-time communication for source processing."}},"/api/{api-version-string}/user/sources/upload-source":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["sources","sources"],"summary":"Upload and process user sources asynchronously","description":"Accepts and processes user-provided sources (PDFs, URLs, etc.) asynchronously. Files are temporarily stored for 1 hour during processing. Returns a WebSocket URL for real-time processing status updates."}},"/api/{api-version-string}/user/sources/upload-source/sync":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"source-id":{"type":"string","format":"uuid"},"filename":{"type":"string"},"data":{"type":"object"}},"required":["source-id","filename","data"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"source-id":{"type":"string","format":"uuid"},"filename":{"type":"string"},"data":{"type":"object"}},"required":["source-id","filename","data"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"source-id":{"type":"string","format":"uuid"},"filename":{"type":"string"},"data":{"type":"object"}},"required":["source-id","filename","data"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"source-id":{"type":"string","format":"uuid"},"filename":{"type":"string"},"data":{"type":"object"}},"required":["source-id","filename","data"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["sources","sources"],"summary":"Process JSON user sources","description":"Processes user-provided source data in JSON format, including source IDs, filenames, and data details, for seamless synchronization."}},"/api/{api-version-string}/user/sources/upload-source/file":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"source-id":{"type":"string","format":"uuid"},"filename":{"type":"string"},"file":{}},"required":["source-id","filename","file"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["sources","sources"],"summary":"Process files user's sources synchronously","description":"Processes user-provided source data in PDF or Image format, including source IDs, filenames, and data details, for seamless synchronization."}},"/api/{api-version-string}/user/sources/story":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"sources":{"type":"array","items":{}}},"required":["sources"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"sources":{"type":"array","items":{}}},"required":["sources"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"sources":{"type":"array","items":{}}},"required":["sources"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"sources":{"type":"array","items":{}}},"required":["sources"],"additionalProperties":false}}}}},"tags":["sources"],"summary":"Retrieve sources by story ID","description":"Fetches all sources associated with a specified story, identified by story ID, for streamlined access to related content."}},"/api/{api-version-string}/user/sources/youtube":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"url":{"type":"string"}},"required":["url"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["sources"],"summary":"Validate YouTube link","description":"Checks if a given YouTube link is valid and can be processed, verifying compatibility for source integration."}},"/api/{api-version-string}/user/storyplan-config":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"configs":{"type":"array","items":{"type":"object"}}},"required":["configs"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"configs":{"type":"array","items":{"type":"object"}}},"required":["configs"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"configs":{"type":"array","items":{"type":"object"}}},"required":["configs"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"configs":{"type":"array","items":{"type":"object"}}},"required":["configs"],"additionalProperties":false}}}}},"tags":["storyplan-config"],"summary":"Retrieve all story configurations for the user","description":"Fetches a list of all story configurations saved by the user. These configurations determine settings such as length and style for story creation."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id","config-display-name"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id","config-display-name"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id","config-display-name"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id","config-display-name"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"created":{"type":"integer"}},"required":["created"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"created":{"type":"integer"}},"required":["created"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"created":{"type":"integer"}},"required":["created"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"created":{"type":"integer"}},"required":["created"],"additionalProperties":false}}}}},"tags":["storyplan-config"],"summary":"Create a new story configuration","description":"Generates a new story configuration with optional fields such as description, configuration name, and display name. The storyplan structure allows custom settings for the story."},"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}}}}},"tags":["storyplan-config"],"summary":"Update an existing story configuration","description":"Updates an existing user story configuration by ID, with options to modify the configuration name, display name, and storyplan details."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"}},"required":["update-count"],"additionalProperties":false}}}}},"tags":["storyplan-config"],"summary":"Delete a user story configuration","description":"Removes a story configuration from the user's account, identified by configuration ID."}},"/api/{api-version-string}/user/storyplan-config/schemas":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["storyplan-config"],"summary":"Fetch available story plan schemas","description":"Retrieves the list of available story plan schemas that define customizable options, such as length, tone, and audience, for story creation."}},"/api/{api-version-string}/user/storyplan-config/gen-mode-data":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"audience":{"type":"string"},"creativity":{"type":"string"},"custom-instructions":{"type":"string"},"length":{"type":"string"},"output-language":{"type":"string"},"personality":{"type":"string"},"reading-level":{"type":"string"},"report-type":{"type":"string"},"title-style":{"type":"string"}},"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"audience":{"type":"string"},"creativity":{"type":"string"},"custom-instructions":{"type":"string"},"length":{"type":"string"},"output-language":{"type":"string"},"personality":{"type":"string"},"reading-level":{"type":"string"},"report-type":{"type":"string"},"title-style":{"type":"string"}},"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"audience":{"type":"string"},"creativity":{"type":"string"},"custom-instructions":{"type":"string"},"length":{"type":"string"},"output-language":{"type":"string"},"personality":{"type":"string"},"reading-level":{"type":"string"},"report-type":{"type":"string"},"title-style":{"type":"string"}},"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"audience":{"type":"string"},"creativity":{"type":"string"},"custom-instructions":{"type":"string"},"length":{"type":"string"},"output-language":{"type":"string"},"personality":{"type":"string"},"reading-level":{"type":"string"},"report-type":{"type":"string"},"title-style":{"type":"string"}},"additionalProperties":false}}}},"tags":["storyplan-config"],"summary":"Generate title and description with AI","description":"Uses an AI model to generate a suggested title and description based on provided settings, including audience, creativity level, and reading level."}},"/api/{api-version-string}/user/storyplan-config/default":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"configs":{"type":"object"}},"required":["configs"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"configs":{"type":"object"}},"required":["configs"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"configs":{"type":"object"}},"required":["configs"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"configs":{"type":"object"}},"required":["configs"],"additionalProperties":false}}}}},"tags":["storyplan-config"],"summary":"Retrieve user's default story configurations","description":"Fetches the default story configuration set by the user for streamlined story creation."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}}}},"tags":["storyplan-config"],"summary":"Set a default story configuration for the user","description":"Allows the user to set a specific story configuration as the default for future story creation."}},"/api/{api-version-string}/user/storyplan-config/upsert-by-name":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"description":{"type":"string"},"config-name":{"type":"string"},"config-display-name":{"type":"string"},"storyplan":{"type":"object"}},"required":["id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"updated":{"anyOf":[{"type":"integer"},{"type":"null"}]}},"required":["updated"],"additionalProperties":false},{"type":"object","properties":{"created":{"type":"object"}},"required":["created"],"additionalProperties":false}]}},"application/transit+msgpack":{"schema":{"anyOf":[{"type":"object","properties":{"updated":{"anyOf":[{"type":"integer"},{"type":"null"}]}},"required":["updated"],"additionalProperties":false},{"type":"object","properties":{"created":{"type":"object"}},"required":["created"],"additionalProperties":false}]}},"application/transit+json":{"schema":{"anyOf":[{"type":"object","properties":{"updated":{"anyOf":[{"type":"integer"},{"type":"null"}]}},"required":["updated"],"additionalProperties":false},{"type":"object","properties":{"created":{"type":"object"}},"required":["created"],"additionalProperties":false}]}},"application/edn":{"schema":{"anyOf":[{"type":"object","properties":{"updated":{"anyOf":[{"type":"integer"},{"type":"null"}]}},"required":["updated"],"additionalProperties":false},{"type":"object","properties":{"created":{"type":"object"}},"required":["created"],"additionalProperties":false}]}}}}},"tags":["storyplan-config"],"summary":"Create or update a story configuration by name","description":"Creates a new story configuration or updates an existing one, using the provided configuration name to identify it."}},"/api/{api-version-string}/integration/sources":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"title","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["integration"],"summary":"Fake search"}},"/api/{api-version-string}/integration/upload":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"source-uuid":{"type":"string","format":"uuid"},"ws-uuid":{"type":"string","format":"uuid"},"project-id":{"type":"string","format":"uuid"}},"required":["source-uuid","ws-uuid"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"source-uuid":{"type":"string","format":"uuid"},"ws-uuid":{"type":"string","format":"uuid"},"project-id":{"type":"string","format":"uuid"}},"required":["source-uuid","ws-uuid"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"source-uuid":{"type":"string","format":"uuid"},"ws-uuid":{"type":"string","format":"uuid"},"project-id":{"type":"string","format":"uuid"}},"required":["source-uuid","ws-uuid"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"source-uuid":{"type":"string","format":"uuid"},"ws-uuid":{"type":"string","format":"uuid"},"project-id":{"type":"string","format":"uuid"}},"required":["source-uuid","ws-uuid"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["integration"],"summary":"Fake upload sources"}},"/api/{api-version-string}/stories/story":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"share-id","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"id","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"unfurl","required":false,"schema":{}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object"}},"application/transit+msgpack":{"schema":{"type":"object"}},"application/transit+json":{"schema":{"type":"object"}},"application/edn":{"schema":{"type":"object"}}}}},"tags":["stories"],"summary":"Retrieve a specific story","description":"Fetches the details of a story based on either share ID or story ID, with an optional parameter for unfurling."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id","version","headline","authors","chapters"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id","version","headline","authors","chapters"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id","version","headline","authors","chapters"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id","version","headline","authors","chapters"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"created":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"required":["created"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"created":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"required":["created"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"created":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"required":["created"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"created":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"],"additionalProperties":false}},"required":["created"],"additionalProperties":false}}}}},"tags":["stories"],"summary":"Save a new story","description":"Creates and saves a new story in the database with the provided content."},"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"updated-story":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id"],"additionalProperties":false},"regenerate-unfurl":{"type":"boolean"}},"required":["updated-story","regenerate-unfurl"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"updated-story":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id"],"additionalProperties":false},"regenerate-unfurl":{"type":"boolean"}},"required":["updated-story","regenerate-unfurl"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"updated-story":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id"],"additionalProperties":false},"regenerate-unfurl":{"type":"boolean"}},"required":["updated-story","regenerate-unfurl"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"updated-story":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"active-draft-id":{"type":"string","format":"uuid"},"version":{"type":"string","minLength":4},"perms":{},"headline":{},"headline-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"headline-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"authors":{},"chapters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"block-type":{"const":"chapter"},"sections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"section"},"id":{"type":"string","format":"uuid"},"title":{},"intro":{},"palette":{"type":"string"},"show-headings":{"type":"boolean"},"is-collpased":{"type":"boolean"},"subsections":{"type":"array","items":{"type":"object","properties":{"block-type":{"const":"subsection"},"id":{"type":"string","format":"uuid"},"row":{"type":"string","enum":["1","2"]},"column":{"type":"string","enum":["1","2"]},"blocks":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"block-type":{"const":"text"},"id":{"type":"string","format":"uuid"},"content":{},"variant":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"bans":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","content"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"image"},"block-subtype":{"anyOf":[{"type":"null"},{"type":"string"}]},"id":{"type":"string","format":"uuid"},"src":{"type":"string"},"original-image-source":{"anyOf":[{"type":"string"},{"type":"null"}]},"width":{"type":"integer"},"height":{"type":"integer"},"caption":{"type":"string"},"llm-selection":{"type":"boolean"},"show-caption":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"image-style":{"anyOf":[{"type":"null"},{"type":"string"}]},"is-new":{"anyOf":[{"type":"null"},{"type":"boolean"}]},"error-code":{"anyOf":[{"type":"null"},{"type":"number"}]}},"required":["block-type","id","src","width","height","caption"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"metrics"},"id":{"type":"string","format":"uuid"},"metrics":{"type":"array","items":{"type":"object","properties":{"data":{"anyOf":[{"type":"string"},{"type":"number"}]},"descriptor":{"anyOf":[{"type":"string"},{"type":"null"}]},"icon":{"type":"object","properties":{"source":{"type":"string"},"url":{"type":"string"}},"additionalProperties":false}},"required":["data","descriptor"],"additionalProperties":false}},"source-ids":{"anyOf":[{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}]},"llm-selection":{"type":"boolean"},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"ai_generated_chart"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"url":{"type":"string"},"event-block-index":{"type":"number"},"llm-selection":{"type":"boolean"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"linkPreview"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"url":{"type":"string"},"image":{"type":"string"},"favicon":{"type":"string"},"llm-selection":{"type":"boolean"}},"required":["block-type","id"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"table"},"id":{"type":"string","format":"uuid"},"event-id":{"type":"string"},"event-block-index":{"type":"number"},"data":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":{},"minProperties":1}},{"type":"array","items":{"type":"array","items":{"anyOf":[{"type":"integer"},{"type":"number"},{"type":"string"}]},"minItems":1}}]},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}}},"required":["block-type","id","data"],"additionalProperties":false},{"type":"object","properties":{"block-type":{"const":"quote"},"id":{"type":"string","format":"uuid"},"quote":{"type":"string"},"source-ids":{"type":"array","items":{"anyOf":[{"type":"string"},{}]}},"event-id":{"type":"string"},"event-block-index":{"type":"number"}},"required":["block-type","id","quote"],"additionalProperties":false}]}}},"required":["block-type","id","row","column","blocks"],"additionalProperties":false}},"created-at":{"type":"string"},"remix-suggestions":{"type":"array","items":{"type":"string"}},"topics":{"type":"array","items":{"type":"string"}}},"required":["block-type","id","title","intro","subsections"],"additionalProperties":false}}},"required":["id","block-type","sections"],"additionalProperties":false},"minItems":1,"maxItems":1},"created-at":{"type":"string","format":"date-time"},"updated-at":{"type":"string","format":"date-time"},"read-only":{"type":"boolean"},"is-active":{"type":"boolean"},"is-public":{"type":"boolean"},"is-llm-generating":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"last-processed-llm-event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"views-count":{"type":"integer"},"like-count":{"type":"integer"},"story-plan":{"anyOf":[{"type":"string"},{"type":"null"}]},"topics":{"type":"array","items":{"type":"string"}},"has-liked-by-me":{"type":"boolean"},"processed-llm-event-ids":{},"unfurl-image-url":{"anyOf":[{"type":"string"},{"type":"null"}]},"capitol-rank":{},"active-section-index":{"anyOf":[{"type":"null"},{"type":"integer"}]},"banner":{},"parent-story-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"current-depth-level":{"anyOf":[{"type":"null"},{"type":"number"}]},"project-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}},"required":["id"],"additionalProperties":false},"regenerate-unfurl":{"type":"boolean"}},"required":["updated-story","regenerate-unfurl"],"additionalProperties":false}}}},"tags":["stories"],"summary":"Update an existing story","description":"Updates a story in the database with modified details and an option to regenerate the unfurl."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"deleted":{"type":"boolean"}},"required":["deleted"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"deleted":{"type":"boolean"}},"required":["deleted"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"deleted":{"type":"boolean"}},"required":["deleted"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"deleted":{"type":"boolean"}},"required":["deleted"],"additionalProperties":false}}}}},"tags":["stories"],"summary":"Delete a story","description":"Removes a story from the database, identified by its ID."}},"/api/{api-version-string}/stories/mini":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"migrated","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["stories"],"summary":"Fetch minimal story information","description":"Returns minimal information for a story, including ID and migration status, for lightweight requests."}},"/api/{api-version-string}/stories/remix/story":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"parent-draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"},{"type":"null"}]},"user-config-params":{},"story-plan-config-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"parent-draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"},{"type":"null"}]},"user-config-params":{},"story-plan-config-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"parent-draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"},{"type":"null"}]},"user-config-params":{},"story-plan-config-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"parent-draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"},{"type":"null"}]},"user-config-params":{},"story-plan-config-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["story-remix"],"summary":"Remix a complete story","description":"Creates a new version of a story by remixing it with optional user-defined configurations and a specified plan."}},"/api/{api-version-string}/stories/story/events":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["stories"],"summary":"Fetch story events","description":"Retrieves the sequence of events for a particular story, identified by story ID."}},"/api/{api-version-string}/stories/story/fork":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["stories"],"summary":"Fork an existing story","description":"Creates an independent copy of an existing story that can be modified and expanded upon by the user, regardless of whether they are the original author. The forked story is detached from the original `author_id`, allowing full editing freedom without affecting the original story."}},"/api/{api-version-string}/stories/user":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"user-id","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"sort-by","required":false,"schema":{"type":"string"}},{"in":"query","name":"search-value","required":false,"schema":{"type":"string"}},{"in":"query","name":"topic-values","required":false,"schema":{}},{"in":"query","name":"is-public","required":false,"schema":{"type":"boolean"}},{"in":"query","name":"is-active","required":false,"schema":{"type":"boolean"}},{"in":"query","name":"limit","required":false,"schema":{"type":"integer"}},{"in":"query","name":"offset","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"stories":{"type":"array","items":{}},"story-count":{"type":"integer"}},"required":["stories","story-count"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"stories":{"type":"array","items":{}},"story-count":{"type":"integer"}},"required":["stories","story-count"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"stories":{"type":"array","items":{}},"story-count":{"type":"integer"}},"required":["stories","story-count"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"stories":{"type":"array","items":{}},"story-count":{"type":"integer"}},"required":["stories","story-count"],"additionalProperties":false}}}}},"tags":["stories"],"summary":"Fetch stories by user ID","description":"Retrieves a list of stories associated with a specified user, with options for pagination, sorting, and filtering."}},"/api/{api-version-string}/stories/visibility":{"patch":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"}},"required":["story-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"},"is-public":{"type":"boolean"}},"required":["update-count","is-public"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"},"is-public":{"type":"boolean"}},"required":["update-count","is-public"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"},"is-public":{"type":"boolean"}},"required":["update-count","is-public"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"update-count":{"type":"integer"},"is-public":{"type":"boolean"}},"required":["update-count","is-public"],"additionalProperties":false}}}}},"tags":["stories"],"summary":"Toggle story visibility","description":"Updates the visibility status of a story, allowing it to be made public or private based on the user's preference."}},"/api/{api-version-string}/prompts":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"summary":"Retrieve generated prompts for the homepage","description":"Fetches a curated list of prompts generated by our LLM to display on the homepage. These prompts provide users with suggestions and ideas to help them get started."}},"/api/{api-version-string}/tako":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"pub-id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["tako"],"summary":"Retrieve Tako chart preview link","description":"Fetches a preview link for a chart generated by Tako, an external chart generation service. This link provides a visual preview of the requested chart based on the specified parameters."}},"/api/{api-version-string}/tako/v2":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"pub-id","required":true,"schema":{"type":"string"}},{"in":"query","name":"silly-key","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["tako"],"summary":"Retrieve Tako chart preview link (v2)","description":"Fetches a preview link for a chart generated by Tako using version 2 of the API. This was created as a POC of capitol versioning."}},"/api/{api-version-string}/x/v1/oauth":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"summary":"Initiate Twitter OAuth authentication","description":"Generates the OAuth URI to begin the authentication process with Twitter, allowing users to authorize the app."}},"/api/{api-version-string}/x/v1/callback":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"oauth-token":{"type":"string"},"oauth-verifier":{"type":"string"}},"required":["oauth-token","oauth-verifier"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"oauth-token":{"type":"string"},"oauth-verifier":{"type":"string"}},"required":["oauth-token","oauth-verifier"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"oauth-token":{"type":"string"},"oauth-verifier":{"type":"string"}},"required":["oauth-token","oauth-verifier"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"oauth-token":{"type":"string"},"oauth-verifier":{"type":"string"}},"required":["oauth-token","oauth-verifier"],"additionalProperties":false}}}},"summary":"Handle Twitter OAuth callback","description":"Processes the callback from Twitter OAuth after the user has authorized the app. Requires the OAuth token and verifier to complete the authentication."}},"/api/{api-version-string}/x/media":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"text":{"type":"string"},"media":{}},"required":["text","media"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"text":{"type":"string"},"media":{}},"required":["text","media"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"text":{"type":"string"},"media":{}},"required":["text","media"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"text":{"type":"string"},"media":{}},"required":["text","media"],"additionalProperties":false}}}},"summary":"Post a tweet with media","description":"Publishes a tweet containing media, such as images. Requires tweet text and media content for successful posting."}},"/api/{api-version-string}/drive/auth":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"code":{"type":"string"}},"required":["user-id","code"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"code":{"type":"string"}},"required":["user-id","code"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"code":{"type":"string"}},"required":["user-id","code"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"user-id":{"type":"string","format":"uuid"},"code":{"type":"string"}},"required":["user-id","code"],"additionalProperties":false}}}},"tags":["google-drive"],"summary":"Submit Google Drive authorization code for the current user","description":"Sends the user’s authorization code to Google Drive to establish access. This step is required to enable exporting stories to Google Drive."}},"/api/{api-version-string}/drive/user":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["google-drive"],"summary":"Retrieve Google Drive accounts authorized by the user","description":"Fetches a list of Google Drive accounts that the user has authorized, allowing verification of linked accounts."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["google-drive"],"summary":"Remove Google Drive authorizations for the user","description":"Deletes all Google Drive account authorizations for the user, revoking access for exporting stories."}},"/api/{api-version-string}/drive/export":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-id":{"type":"string","format":"uuid"}},"required":["story-id","user-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-id":{"type":"string","format":"uuid"}},"required":["story-id","user-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-id":{"type":"string","format":"uuid"}},"required":["story-id","user-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-id":{"type":"string","format":"uuid"}},"required":["story-id","user-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["google-drive"],"summary":"Export a story to Google Drive","description":"Takes a story ID and exports the corresponding story to the user’s Google Drive account. Requires prior authorization from the user to access Google Drive."}},"/api/{api-version-string}/project":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"project-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Retrieve a Capitol project by user","description":"Fetches a specific Capitol project using the project ID. A project contains various documents and sources uploaded or created by the user."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Create a new Capitol project","description":"Creates a new Capitol project where users can add sources (PDFs, images, URLs) and documents."},"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"project-id":{"type":"string","format":"uuid"},"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"required":["project-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"project-id":{"type":"string","format":"uuid"},"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"required":["project-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"project-id":{"type":"string","format":"uuid"},"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"required":["project-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"project-id":{"type":"string","format":"uuid"},"pdf-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"image-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"url-sources":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string"}]}},"project-name":{"type":"string"}},"required":["project-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Update a Capitol project","description":"Updates a Capitol project with new or existing details, including its name and sources (PDFs, images, URLs)."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"project-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Delete a Capitol project","description":"Deletes a specified Capitol project from the user's account based on the project ID."}},"/api/{api-version-string}/project/list":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"sources","required":false,"schema":{"type":"boolean"}},{"in":"query","name":"limit","required":false,"schema":{"type":"integer"}},{"in":"query","name":"offset","required":false,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"List all Capitol projects for a user","description":"Retrieves a list of all Capitol projects associated with the user, optionally including sources and allowing pagination through limit and offset parameters."}},"/api/{api-version-string}/project/docs/list":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"project-id","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"List all Capitol documents within a project","description":"Fetches all documents under a specified project ID, displaying all documents associated with the project."}},"/api/{api-version-string}/project/docs":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"offset","required":false,"schema":{"type":"integer"}},{"in":"query","name":"project-id","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"Retrieve Capitol documents within a specific project","description":"Retrieves documents within a given project, with optional pagination using offset. Allows specifying a project ID."},"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"document-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"origin-project-id","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"project-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"Move a document between projects","description":"Transfers a document from one project to another, specified by document ID, origin project ID, and target project ID."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"document-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Remove a document from a project","description":"Deletes a specified document from a project based on document ID."}},"/api/{api-version-string}/project/source":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"project-id","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"Retrieve sources within a project","description":"Fetches all sources (PDFs, images, URLs) used in the documents of a specified project."},"put":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"origin-project-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"project-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"source-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"type","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}},"application/transit+msgpack":{"schema":{}},"application/transit+json":{"schema":{}},"application/edn":{"schema":{}}}}},"tags":["capitol projects"],"summary":"Copy a source to another project","description":"Copies a source (PDF, image, or URL) from one project to another, specified by origin project ID, target project ID, and source type."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"project-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"source-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"type","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol projects"],"summary":"Delete a source from a project","description":"Removes a specific source from a project, based on project ID, source ID, and source type."}},"/api/{api-version-string}/events":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol events"],"summary":"Retrieve Capitol events for a specific document","description":"Fetches a list of events associated with a specific document (or story) by story-id. A document consists of multiple events, and may have several versions or iterations called drafts. Events can be modified individually or at the document level if changes are made across drafts."},"delete":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"event-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol events"],"summary":"Delete a specific Capitol event","description":"Removes a particular event from a document draft, using the event-id and story-id to identify the specific event to delete."}},"/api/{api-version-string}/events/bulk":{"patch":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-depth":{},"draft-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"events":{"type":"array","items":{"type":"object","properties":{"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"content":{}},"required":["event-id","block-id","content"],"additionalProperties":false}},"events-to-delete":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}}},"required":["story-id","events"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-depth":{},"draft-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"events":{"type":"array","items":{"type":"object","properties":{"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"content":{}},"required":["event-id","block-id","content"],"additionalProperties":false}},"events-to-delete":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}}},"required":["story-id","events"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-depth":{},"draft-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"events":{"type":"array","items":{"type":"object","properties":{"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"content":{}},"required":["event-id","block-id","content"],"additionalProperties":false}},"events-to-delete":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}}},"required":["story-id","events"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-depth":{},"draft-id":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]},"events":{"type":"array","items":{"type":"object","properties":{"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"content":{}},"required":["event-id","block-id","content"],"additionalProperties":false}},"events-to-delete":{"type":"array","items":{"anyOf":[{"type":"null"},{"type":"string","format":"uuid"}]}}},"required":["story-id","events"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol events"],"summary":"Execute a bulk update of events within a document draft","description":"Performs a bulk update across multiple events within a specified draft of a document, identified by draft depth. This operation can include modifying event content, adjusting draft-specific parameters, and adding or removing events. Events to delete can also be specified in the request."}},"/api/{api-version-string}/events/turn-into":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"output-sub-type":{"type":"string"},"output-type":{"type":"string"},"event-id-below":{"type":"string","format":"uuid"}},"required":["story-id","event-id","block-id","output-sub-type","output-type"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"output-sub-type":{"type":"string"},"output-type":{"type":"string"},"event-id-below":{"type":"string","format":"uuid"}},"required":["story-id","event-id","block-id","output-sub-type","output-type"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"output-sub-type":{"type":"string"},"output-type":{"type":"string"},"event-id-below":{"type":"string","format":"uuid"}},"required":["story-id","event-id","block-id","output-sub-type","output-type"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"event-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"},"output-sub-type":{"type":"string"},"output-type":{"type":"string"},"event-id-below":{"type":"string","format":"uuid"}},"required":["story-id","event-id","block-id","output-sub-type","output-type"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["capitol events"],"summary":"Transform an event block into a different block type","description":"Modifies the type of an event block within a document, allowing any block type to be converted into another (e.g., from image to text or vice versa). This endpoint accepts parameters for customizing output type, subtype, and optionally specifying the draft and position within the document structure."}},"/api/{api-version-string}/chat":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}},{"in":"query","name":"story-id","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"component-id","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["llm-chat"],"summary":"Retrieve chat history for a story or component","description":"Retrieve the complete chat history for a specific story or a component within a story. To access the entire story-level chat, omit the component-id parameter in the request."},"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"draft-number":{"type":"integer"},"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"user-chat-message":{"type":"string"},"user-chat-params":{"type":"object"},"new-block":{"type":"boolean"},"new-block-params":{"type":"object"},"cyoa":{"type":"boolean"},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"custom-options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"topics":{"type":"array","items":{"type":"string"}}},"required":["story-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"draft-number":{"type":"integer"},"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"user-chat-message":{"type":"string"},"user-chat-params":{"type":"object"},"new-block":{"type":"boolean"},"new-block-params":{"type":"object"},"cyoa":{"type":"boolean"},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"custom-options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"topics":{"type":"array","items":{"type":"string"}}},"required":["story-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"draft-number":{"type":"integer"},"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"user-chat-message":{"type":"string"},"user-chat-params":{"type":"object"},"new-block":{"type":"boolean"},"new-block-params":{"type":"object"},"cyoa":{"type":"boolean"},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"custom-options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"topics":{"type":"array","items":{"type":"string"}}},"required":["story-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"draft-number":{"type":"integer"},"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}]},"user-chat-message":{"type":"string"},"user-chat-params":{"type":"object"},"new-block":{"type":"boolean"},"new-block-params":{"type":"object"},"cyoa":{"type":"boolean"},"options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"custom-options":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"topics":{"type":"array","items":{"type":"string"}}},"required":["story-id"],"additionalProperties":false}}}},"tags":["llm-chat"],"summary":"Submit a user message and receive an agent’s response","description":"Sends a new user message to the chat and returns an automated response from the agent."}},"/api/{api-version-string}/chat/reset-block-chat":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"}},"required":["story-id","draft-id","block-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"}},"required":["story-id","draft-id","block-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"}},"required":["story-id","draft-id","block-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"draft-id":{"type":"string","format":"uuid"},"block-id":{"type":"string","format":"uuid"}},"required":["story-id","draft-id","block-id"],"additionalProperties":false}}}},"tags":["llm-chat"],"summary":"Reset chat history for a specific block","description":"Notifies the backend to reset the chat history for a designated block based on recent user actions."}},"/api/{api-version-string}/chat/async":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-config-params":{"type":"object"},"story-plan-config-id":{"type":"string","format":"uuid"},"source-ids":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["story-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-config-params":{"type":"object"},"story-plan-config-id":{"type":"string","format":"uuid"},"source-ids":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["story-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-config-params":{"type":"object"},"story-plan-config-id":{"type":"string","format":"uuid"},"source-ids":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["story-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"story-id":{"type":"string","format":"uuid"},"user-config-params":{"type":"object"},"story-plan-config-id":{"type":"string","format":"uuid"},"source-ids":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["story-id"],"additionalProperties":false}}}},"tags":["llm-socket"],"summary":"Initiate document generation and obtain streaming address","description":"Initiates the document generation process and returns a WebSocket address for streaming events, including segments of AI-generated content. The request body may include a 'story plan'—an object containing customization instructions such as length, model selection, use of images or charts, and more. You must provide either a story plan or a story plan ID"}},"/api/{api-version-string}/chat/block-suggestions":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"block-subtype":{"type":"string"},"block-type":{"type":"string"},"new-block":{"type":"boolean"},"local-context":{"type":"array","items":{"type":"object"}},"story-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]}},"required":["story-id","event-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"block-subtype":{"type":"string"},"block-type":{"type":"string"},"new-block":{"type":"boolean"},"local-context":{"type":"array","items":{"type":"object"}},"story-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]}},"required":["story-id","event-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"block-subtype":{"type":"string"},"block-type":{"type":"string"},"new-block":{"type":"boolean"},"local-context":{"type":"array","items":{"type":"object"}},"story-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]}},"required":["story-id","event-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"block-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"block-subtype":{"type":"string"},"block-type":{"type":"string"},"new-block":{"type":"boolean"},"local-context":{"type":"array","items":{"type":"object"}},"story-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"event-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]},"draft-id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}]}},"required":["story-id","event-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["llm-chat"],"summary":"Request prompt suggestions for a content block","description":"Generates a list of suggested prompts for modifying a specific content block, such as making a text block longer or more detailed."}},"/api/{api-version-string}/chat/cancel":{"post":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"external-id":{"type":"string","format":"uuid"}},"required":["external-id"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"external-id":{"type":"string","format":"uuid"}},"required":["external-id"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"external-id":{"type":"string","format":"uuid"}},"required":["external-id"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"external-id":{"type":"string","format":"uuid"}},"required":["external-id"],"additionalProperties":false}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+msgpack":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/transit+json":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}},"application/edn":{"schema":{"type":"object","properties":{"response":{}},"required":["response"],"additionalProperties":false}}}}},"tags":["llm-chat"],"summary":"Stop the ongoing story generation","description":"Stops the story generation process based on the provided story-id parameter."}},"/api/{api-version-string}/reports/new-user-report":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["metrics"],"summary":"Generate report of new users","description":"Provides a report on recently registered users, including relevant user metrics for tracking growth and engagement."}},"/api/{api-version-string}/reports/marketing-user-report":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["metrics"],"summary":"Generate report on users accepting marketing emails","description":"Returns a report of all users who have opted into and received marketing emails, tracking engagement for marketing initiatives."}},"/api/{api-version-string}/reports/new-story-report":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["metrics"],"summary":"Generate report on new story creation","description":"Fetches a report summarizing new stories created by users over a given period, useful for tracking content generation trends."}},"/api/{api-version-string}/reports/sign-up-report":{"get":{"parameters":[{"in":"path","name":"api-version-string","required":true,"schema":{"default":"latest","type":"string"}}],"tags":["metrics"],"summary":"Generate report on user sign-ups","description":"Provides metrics on user sign-ups, offering insights into user acquisition rates and platform growth."}}}}